import{a as n,d as q,u as v,r as u,b as l}from"./index-CaaIHyZZ.js";import{u as r,h as a,a as c}from"./sweet-alert-DN3J5jfH.js";const I=async t=>{try{return(await n.post("https://backend-api-5m5k.onrender.com/api/cencus",t)).data}catch(e){throw e}},f=async()=>{try{return(await n.get("https://backend-api-5m5k.onrender.com/api/cencus")).data}catch(t){throw t}},E=async t=>{try{return(await n.get(`https://backend-api-5m5k.onrender.com/api/cencus/${t}`)).data}catch(e){throw e}},g=async t=>{try{return(await n.get(`https://backend-api-5m5k.onrender.com/api/cencus/user/${t}`)).data}catch(e){throw e}},A=async t=>{try{return(await n.delete(`https://backend-api-5m5k.onrender.com/api/cencus/${t}`)).data}catch(e){throw e}},F=async t=>{try{return(await n.delete(`https://backend-api-5m5k.onrender.com/api/cencus/archive/${t}`)).data}catch(e){throw e}},K=async t=>{try{return(await n.post("https://backend-api-5m5k.onrender.com/api/cencus/restore",{id:t})).data}catch(e){throw e}},G=()=>{const{data:t}=q(),e=v(),[o,h]=u.useState(void 0),[m,C]=u.useState();u.useEffect(()=>{t!=null&&t.email&&h(t.email)},[t]);const{data:D}=l({queryKey:["cencus",o],queryFn:()=>E(o),enabled:!!o}),{data:k,isError:b,isLoading:w}=l({queryKey:["cencus"],queryFn:f}),S=r({mutationFn:g,onSuccess:s=>{C(s.data),e.invalidateQueries({queryKey:["cencus"]})}}),d=r({mutationFn:A,onSuccess:()=>{c("Permanently Deleted Succesfuly "),e.invalidateQueries({queryKey:["cencus"]})},onError:s=>{a(s.response.data.error)}}),i=r({mutationFn:I,onSuccess:()=>{c("Submitted"),e.invalidateQueries({queryKey:["cencus"]})},onError:s=>{a(s.response.data.error)}}),y=r({mutationFn:K,onSuccess:()=>{c("Restored Succesfuly "),e.invalidateQueries({queryKey:["cencus"]})},onError:s=>{a(s.response.data.error)}}),p=r({mutationFn:F,onSuccess:()=>{c("Deleted Succesfuly "),e.invalidateQueries({queryKey:["cencus"]})},onError:s=>{a(s.response.data.error)}});return{handleCreateCencus:s=>{i.mutate(s)},createCencusMutation:i,cencusData:k,isError:b,isLoading:w,cencusUserData:D,handleGetUserCencusDataById:s=>{S.mutate(s)},cencusDataUser:m,handleDelete:s=>{d.mutate(s)},deleteCencusDataByIdMutation:d,handleArchievedDelete:s=>{p.mutate(s)},deleteArchiveCencusbyIdMutation:p,handleRestore:s=>{y.mutate(s)},restoredCencusbyIdMutation:y}};export{G as C};
