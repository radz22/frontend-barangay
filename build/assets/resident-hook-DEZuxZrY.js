import{a,u as y,r as l,b as h}from"./index-DZNekYFt.js";import{u as n,h as s,a as i}from"./sweet-alert-Dun-8MXZ.js";const m=async t=>{try{return(await a.post("https://backend-api-5m5k.onrender.com/api/resident",t)).data}catch(r){throw r}},R=async()=>{try{return(await a.get("https://backend-api-5m5k.onrender.com/api/resident")).data}catch(t){throw t}},D=async t=>{try{return(await a.get(`https://backend-api-5m5k.onrender.com/api/resident/${t}`)).data}catch(r){throw r}},k=async t=>{try{return(await a.delete(`https://backend-api-5m5k.onrender.com/api/resident/${t}`)).data}catch(r){throw r}},B=()=>{const t=y(),[r,c]=l.useState(),{data:u}=h({queryKey:["resident"],queryFn:R}),o=n({mutationFn:m,onSuccess:e=>{i("Submitted"),console.log(e),t.invalidateQueries({queryKey:["resident"]})},onError:e=>{s(e.response.data.error)}}),p=n({mutationFn:D,onSuccess:e=>{c(e.data),t.invalidateQueries({queryKey:["resident"]})},onError:e=>{s(e.response.data.error)}}),d=n({mutationFn:k,onSuccess:()=>{i("Deleted Succesfuly "),t.invalidateQueries({queryKey:["resident"]})},onError:e=>{s(e.response.data.error)}});return{handleCreateResident:e=>{o.mutate(e)},createResidentMutation:o,residentData:u,handleGetUserResidentDataById:e=>{p.mutate(e)},handleDelete:e=>{d.mutate(e)},deleteResidentDataByIdMutation:d}};export{B as R};
