import{j as e,r as x}from"./index-DRGkhgkg.js";import{a as m}from"./authHook-BR9AAWJr.js";import{s as y}from"./signin-zod-CXVts86j.js";import{u as b,t as v,z as N}from"./zod-Bu1ipLjt.js";import{R as u,T as j,P as g,O as f,C as p,a as w,D as F}from"./delete-layout-Dvst0Wfd.js";import"./sweet-alert-CQ0i_5mo.js";const A=({setDirection:t})=>{const{register:l,handleSubmit:r,formState:{errors:s}}=b({resolver:v(y),defaultValues:{role:"staff"}}),{handleUserSignup:d}=m(),n=a=>{d(a)};return e.jsx("div",{className:"w-full h-screen flex items-center justify-center flex-col",children:e.jsxs("div",{className:"w-[50%]  inset-y-0 left-0  bg-white shadow-lg px-10 py-10",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-center text-2xl font-semibold",children:"Staff Account"})}),e.jsxs("form",{className:"mt-10",onSubmit:r(n),children:[e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("h1",{className:"text-lg text-[#181818] font-semibold  ",children:"Email"})}),e.jsx("div",{children:e.jsx("input",{...l("email"),placeholder:"Enter your Email",className:"w-full  border border-[#636364] mt-2 px-2 py-3 rounded-lg  max-xl:text-base  max-lg:text-sm"})}),e.jsx("div",{children:s.email&&e.jsx("p",{className:"text-[#EA454C]  max-xl:text-base  max-lg:text-sm",children:s.email.message})})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-lg text-[#181818] font-semibold  max-xl:text-base",children:"Password"})}),e.jsx("div",{children:e.jsx("input",{...l("password"),placeholder:"Enter your Password",type:"Password",className:"w-full  border border-[#636364] mt-2 px-2 py-3 rounded-lg  max-xl:text-base  max-lg:text-sm"})}),e.jsx("div",{children:s.password&&e.jsx("p",{className:"text-[#EA454C]  max-xl:text-base  max-lg:text-sm",children:s.password.message})})]}),e.jsx("div",{className:"mt-5 text-right",children:e.jsx("p",{className:"underline text-[#7F265B]  text-right cursor-pointer",onClick:()=>t("forgot"),children:"Forgot Password"})}),e.jsx("div",{className:"w-full mt-5",children:e.jsx("button",{className:"text-[#FFFFFF] bg-[#7F265B] text-center w-full py-3 px-3 text-lg font-semibold rounded-lg ",type:"submit",children:"Register Staff Account"})})]})]})})},L=N.object({email:N.string().min(1,"Email is required").email("invalid Email address")}),S=({setDirection:t})=>{const{handleForgotPassword:l,forgotPasswordMutation:r}=m(),{register:s,handleSubmit:d,formState:{errors:n}}=b({resolver:v(L)}),a=o=>{l(o)};return e.jsx("div",{className:"w-full h-screen flex items-center justify-center flex-col",children:e.jsx("div",{className:"w-[50%]  inset-y-0 left-0  bg-white shadow-lg px-10 py-10",children:e.jsx("div",{className:"mt-10 flex items-center justify-center flex-col w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-[#525252] text-center",children:"Did you forget your password?"}),e.jsx("p",{className:"text-center text-[#525252] mt-5",children:"Enter your email address you're using for your account below and we will send you a password reset link"})]}),e.jsx("div",{className:"mt-10 w-full",children:e.jsxs("form",{onSubmit:d(a),className:"w-full",children:[e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("h1",{className:"text-lg text-[#181818] font-semibold  ",children:"Email Address"})}),e.jsx("div",{children:e.jsx("input",{...s("email"),placeholder:"Enter your Email",className:"w-full  border border-[#636364] mt-2 px-2 py-3 rounded-lg  max-xl:text-base  max-lg:text-sm"})}),e.jsx("div",{children:n.email&&e.jsx("p",{className:"text-[#EA454C]  max-xl:text-base  max-lg:text-sm",children:n.email.message})})]}),e.jsx("div",{className:"mt-5 ",children:e.jsx("p",{className:"underline text-[#7F265B]  text-right cursor-pointer",onClick:()=>t("create"),children:"Create Account Staff"})}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{className:"text-[#FFFFFF] bg-[#7F265B] text-center w-full py-3 px-3 text-lg font-semibold rounded-lg ",type:"submit",disabled:r.isPending,children:r.isPending?"Loading...":"Request Reset Link"})})]})})]})})})})},C=({data:t,handleClose:l})=>{const{handleResetPassword:r,resetPasswordMutation:s}=m(),{register:d,handleSubmit:n,formState:{errors:a},reset:o}=b({resolver:v(y)});x.useEffect(()=>{t&&o({email:t.email})},[t,o]);const h=i=>{const c={newpassword:i.password,id:t==null?void 0:t._id};r(c),l()};return e.jsxs("form",{className:"mt-10",onSubmit:n(h),children:[e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("h1",{className:"text-lg text-[#181818] font-semibold  ",children:"Email"})}),e.jsx("div",{children:e.jsx("input",{...d("email"),placeholder:"Enter your Email",className:"w-full  border border-[#636364] mt-2 px-2 py-3 rounded-lg  max-xl:text-base  max-lg:text-sm",readOnly:!0})}),e.jsx("div",{children:a.email&&e.jsx("p",{className:"text-[#EA454C]  max-xl:text-base  max-lg:text-sm",children:a.email.message})})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-lg text-[#181818] font-semibold  max-xl:text-base",children:"New Password"})}),e.jsx("div",{children:e.jsx("input",{...d("password"),placeholder:"Enter your Password",type:"Password",className:"w-full  border border-[#636364] mt-2 px-2 py-3 rounded-lg  max-xl:text-base  max-lg:text-sm"})}),e.jsx("div",{children:a.password&&e.jsx("p",{className:"text-[#EA454C]  max-xl:text-base  max-lg:text-sm",children:a.password.message})})]}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{className:"text-[#FFFFFF] bg-[#7F265B] text-center w-full py-3 px-3 text-lg font-semibold rounded-lg ",type:"submit",disabled:s.isPending,children:s.isPending?"Loading...":" Change Password"})})]})},E=({handleClose:t})=>{const{accountData:l,handleDelete:r,deleteAccountMutation:s}=m(),[d,n]=x.useState(null),[a,o]=x.useState(null),h=[...(l==null?void 0:l.data)||[]].sort((i,c)=>new Date(c.createdAt).getTime()-new Date(i.createdAt).getTime());return e.jsx("div",{className:"overflow-x-auto bg-white shadow-lg rounded-lg border border-gray-300",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#7F265B] text-white text-left border-b border-gray-300",children:[e.jsx("th",{className:"p-3 border border-gray-300",children:"Account Email"}),e.jsx("th",{className:"p-3 border border-gray-300 text-center",children:"Action"})]})}),e.jsx("tbody",{children:h.map((i,c)=>e.jsxs("tr",{className:"border-b border-gray-300 odd:bg-gray-100 even:bg-white hover:bg-gray-200 transition-all",children:[e.jsx("td",{className:"p-3 border border-gray-300",children:i.email}),e.jsxs("td",{className:"p-3 border border-gray-300 text-center",children:[e.jsxs(u,{children:[e.jsx(j,{children:e.jsx("button",{className:"mr-2 p-2 ",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",onClick:()=>{n(i)},children:e.jsx("path",{fill:"#0021ff",d:"M2 17v3h8v-1.89H3.9V17c0-.64 3.13-2.1 6.1-2.1c.96.01 1.91.14 2.83.38l1.52-1.52c-1.4-.47-2.85-.73-4.35-.76c-2.67 0-8 1.33-8 4m8-13C7.79 4 6 5.79 6 8s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4m0 6c-1.1 0-2-.89-2-2s.9-2 2-2s2 .9 2 2s-.89 2-2 2m11.7 3.35l-1 1l-2.05-2l1-1a.55.55 0 0 1 .77 0l1.28 1.28c.21.21.21.56 0 .77M12 18.94l6.06-6.06l2.05 2l-6 6.07H12z"})})})}),e.jsxs(g,{children:[e.jsx(f,{className:"fixed inset-0 bg-black/50"}),e.jsxs(p,{className:"fixed top-1/2 left-1/2 bg-white p-6 rounded-lg shadow-lg transform -translate-x-1/2 -translate-y-1/2 w-[40%] h-auto",children:[e.jsx(C,{data:d,handleClose:t}),e.jsx("div",{className:"absolute top-[-20px] right-[-20px]",children:e.jsx(w,{asChild:!0,children:e.jsx("div",{className:"w-10 h-10 bg-[#7F265B] rounded-full flex items-center justify-center  cursor-pointer",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#fff",d:"M16.95 8.464a1 1 0 0 0-1.414-1.414L12 10.586L8.464 7.05A1 1 0 1 0 7.05 8.464L10.586 12L7.05 15.536a1 1 0 1 0 1.414 1.414L12 13.414l3.536 3.536a1 1 0 1 0 1.414-1.414L13.414 12z"})})})})})]})]})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx("button",{className:"p-2 text-red-600 hover:text-red-800",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:()=>o((i==null?void 0:i._id)??null),children:[e.jsx("path",{d:"M3 6h18"}),e.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e.jsx("path",{d:"m19 6-.867 12.142A2 2 0 0 1 16.137 20H7.863a2 2 0 0 1-1.996-1.858L5 6"}),e.jsx("path",{d:"M10 11v5"}),e.jsx("path",{d:"M14 11v5"})]})})}),e.jsxs(g,{children:[e.jsx(f,{className:"fixed inset-0 bg-black/50"}),e.jsxs(p,{className:"fixed top-1/2 left-1/2 bg-white p-6 rounded-lg shadow-lg transform -translate-x-1/2 -translate-y-1/2 w-auto h-auto",children:[e.jsx(F,{id:a,handleDelete:r,deleteMutation:s}),e.jsx("div",{className:"absolute top-[-20px] right-[-20px]",children:e.jsx(w,{asChild:!0,children:e.jsx("div",{className:"w-10 h-10 bg-[#7F265B] rounded-full flex items-center justify-center  cursor-pointer",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#fff",d:"M16.95 8.464a1 1 0 0 0-1.414-1.414L12 10.586L8.464 7.05A1 1 0 1 0 7.05 8.464L10.586 12L7.05 15.536a1 1 0 1 0 1.414 1.414L12 13.414l3.536 3.536a1 1 0 1 0 1.414-1.414L13.414 12z"})})})})})]})]})]})]})]},c))})]})})},z=()=>{const[t,l]=x.useState("create"),[r,s]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full flex items-end justify-end px-4",children:e.jsxs(u,{open:r,onOpenChange:s,children:[e.jsx(j,{children:e.jsx("button",{className:"w-auto py-3 px-3 bg-[#7F265B] text-white rounded-lg  font-semibold ",onClick:()=>s(!0),children:"Manage Account"})}),e.jsxs(g,{children:[e.jsx(f,{className:"fixed inset-0 bg-black/50"}),e.jsxs(p,{className:"fixed top-1/2 left-1/2 bg-white p-6 rounded-lg shadow-lg transform -translate-x-1/2 -translate-y-1/2 w-[40%] h-auto",children:[e.jsx("div",{className:"max-h-[80vh] overflow-auto",children:e.jsx(E,{handleClose:()=>s(!1)})}),e.jsx("div",{className:"absolute top-[-20px] right-[-20px]",children:e.jsx(w,{asChild:!0,children:e.jsx("div",{className:"w-10 h-10 bg-[#7F265B] rounded-full flex items-center justify-center  cursor-pointer",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#fff",d:"M16.95 8.464a1 1 0 0 0-1.414-1.414L12 10.586L8.464 7.05A1 1 0 1 0 7.05 8.464L10.586 12L7.05 15.536a1 1 0 1 0 1.414 1.414L12 13.414l3.536 3.536a1 1 0 1 0 1.414-1.414L13.414 12z"})})})})})]})]})]})}),t=="create"?e.jsx(A,{setDirection:l}):e.jsx(S,{setDirection:l})]})};export{z as default};
